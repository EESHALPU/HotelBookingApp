(this.webpackJsonphotelbookingapp=this.webpackJsonphotelbookingapp||[]).push([[0],{45:function(e,t,n){},46:function(e,t,n){},65:function(e,t,n){},68:function(e,t,n){"use strict";n.r(t);var c=n(1),a=n.n(c),s=n(31),i=n.n(s),r=n(8),o=n(2),l=n(0),j=function(){return Object(l.jsx)("div",{children:Object(l.jsx)("nav",{className:"navbar navbar-inverse",children:Object(l.jsxs)("div",{className:"container-fluid",children:[Object(l.jsxs)("div",{className:"navbar-header",children:[Object(l.jsxs)("button",{type:"button",className:"navbar-toggle","data-toggle":"collapse","data-target":"#myNavbar",children:[Object(l.jsx)("span",{className:"icon-bar"}),Object(l.jsx)("span",{className:"icon-bar"}),Object(l.jsx)("span",{className:"icon-bar"})]}),Object(l.jsx)(r.b,{className:"navbar-brand",to:"/",children:"Aspiring Coder"})]}),Object(l.jsxs)("div",{className:"collapse navbar-collapse",id:"myNavbar",children:[Object(l.jsx)("ul",{className:"nav navbar-nav",children:Object(l.jsx)("li",{children:Object(l.jsx)(r.b,{to:"/",children:"Home"})})}),Object(l.jsxs)("ul",{className:"nav navbar-nav navbar-right",children:[Object(l.jsx)("li",{children:Object(l.jsxs)(r.b,{href:"#",children:[Object(l.jsx)("span",{className:"glyphicon glyphicon-user"})," Sign Up"]})}),Object(l.jsx)("li",{children:Object(l.jsxs)(r.b,{href:"#",children:[Object(l.jsx)("span",{className:"glyphicon glyphicon-log-in"})," Login"]})})]})]})]})})})},d=function(){return Object(l.jsxs)("div",{children:[Object(l.jsx)("hr",{}),Object(l.jsx)("center",{children:Object(l.jsx)("h3",{children:" \xa9 Aspiring Coder"})})]})},h=n(4),b=n(5),m=n(7),u=n(6),p=(n(45),function(e){Object(m.a)(n,e);var t=Object(u.a)(n);function n(e){var c;return Object(h.a)(this,n),(c=t.call(this,e)).renderCity=function(e){if(e)return e.map((function(e){return Object(l.jsx)("option",{value:e._id,children:e.city_name})}))},c.renderHotel=function(e){if(e)return e.map((function(e){return Object(l.jsxs)("option",{value:e._id,children:[e.name," | ",e.locality]})}))},c.handleCity=function(e){console.log(e.target.value);var t=e.target.value;fetch("".concat("https://developerfunnel.herokuapp.com/hotels?city=").concat(t),{method:"GET"}).then((function(e){return e.json()})).then((function(e){c.setState({hotels:e})}))},c.handleHotel=function(e){c.props.history.push("/details/".concat(e.target.value))},console.log(">>>>>in constructor"),c.state={location:"",hotels:""},c}return Object(b.a)(n,[{key:"render",value:function(){return console.log(">>>in search",this.props),Object(l.jsxs)("div",{className:"imageContainer",children:[Object(l.jsx)("div",{id:"logo",children:"D!"}),Object(l.jsx)("div",{className:"heading",children:"Plan Trip With Us"}),Object(l.jsxs)("div",{className:"locationSelector",children:[Object(l.jsxs)("select",{className:"locationDropDown",onChange:this.handleCity,children:[Object(l.jsx)("option",{children:"----SELECT CITY-----"}),this.renderCity(this.state.location)]}),Object(l.jsxs)("select",{className:"hotelDropDown",onChange:this.handleHotel,children:[Object(l.jsx)("option",{children:"----SELECT HOTEL-----"}),this.renderHotel(this.state.hotels)]})]})]})}},{key:"componentDidMount",value:function(){var e=this;console.log(">>>>>in componentDidMount"),fetch("https://developerfunnel.herokuapp.com/location",{method:"GET"}).then((function(e){return e.json()})).then((function(t){e.setState({location:t})})).catch((function(e){console.log(e)}))}}]),n}(c.Component)),O=Object(o.e)(p),x=(n(46),function(e){return Object(l.jsxs)("div",{className:"quickSearchContainer",children:[Object(l.jsx)("p",{className:"quickSearchHeading",children:"Quick Search"}),Object(l.jsx)("p",{className:"quickSearchSubHeading",children:"Discover Trip By Type"}),Object(l.jsx)("br",{}),function(e){var t=e.tripdata;if(t)return t.map((function(e){return Object(l.jsx)(r.b,{to:"/list/".concat(e._id),children:Object(l.jsxs)("div",{className:"tileContainer",children:[Object(l.jsx)("div",{className:"tileComponent1",children:Object(l.jsx)("img",{src:e.image})}),Object(l.jsxs)("div",{className:"tileComponent2",children:[Object(l.jsx)("div",{className:"componentHeading",children:e.name}),Object(l.jsxs)("div",{className:"componentSubHeading",children:["Start your ",e.name," trip with us"]})]})]})})}))}(e)]})}),v=function(e){Object(m.a)(n,e);var t=Object(u.a)(n);function n(){var e;return Object(h.a)(this,n),(e=t.call(this)).state={tripType:""},e}return Object(b.a)(n,[{key:"render",value:function(){return Object(l.jsx)(x,{tripdata:this.state.tripType})}},{key:"componentDidMount",value:function(){var e=this;fetch("https://developerfunnel.herokuapp.com/booking",{method:"GET"}).then((function(e){return e.json()})).then((function(t){e.setState({tripType:t})}))}}]),n}(c.Component),f=function(){return Object(l.jsxs)("div",{children:[Object(l.jsx)(O,{}),Object(l.jsx)(v,{})]})},g=n(14),y=n.n(g),N=(n(65),function(e){return Object(l.jsx)("div",{className:"container-fluid",children:Object(l.jsx)("div",{className:"main-heading",children:Object(l.jsx)("div",{className:"col-md-12",children:function(e){var t=e.listdata;return t?t.length>0?t.map((function(e){return Object(l.jsxs)("div",{className:"item",children:[Object(l.jsxs)("div",{className:"row",children:[Object(l.jsx)("div",{className:"col-md-5",children:Object(l.jsx)("img",{className:"Image",src:e.thumb})}),Object(l.jsx)("div",{className:"col-md-7",children:Object(l.jsxs)("div",{className:"hotel_name",children:[Object(l.jsx)(r.b,{to:"/details/".concat(e._id),children:e.name}),Object(l.jsx)("div",{className:"city_name",children:e.city_name}),Object(l.jsx)("div",{className:"city_name",children:e.locality}),Object(l.jsx)("div",{className:"city_name",children:e.address})]})})]}),Object(l.jsx)("hr",{}),Object(l.jsxs)("div",{className:"row",children:[Object(l.jsxs)("div",{className:"col-sm-3",children:[Object(l.jsx)("div",{className:"cuisine",children:"Room Type"}),Object(l.jsx)("div",{className:"cuisine",children:"Cost Per Day"})]}),Object(l.jsxs)("div",{className:"col-sm-7",children:[Object(l.jsxs)("div",{className:"cuisine_data",children:[e.type[0].name,", ",e.type[1].name,", ",e.type[2].name]}),Object(l.jsxs)("div",{className:"cuisine_data",children:["Rs.",e.cost]})]})]})]})})):Object(l.jsx)("div",{className:"item",children:Object(l.jsx)("h2",{children:"No Data Found"})}):Object(l.jsx)("div",{className:"item",children:Object(l.jsx)("img",{src:"/images/loader.gif"})})}(e)})})})}),k="https://developerfunnel.herokuapp.com/hotellist",C=function(e){Object(m.a)(n,e);var t=Object(u.a)(n);function n(){var e;Object(h.a)(this,n);for(var c=arguments.length,a=new Array(c),s=0;s<c;s++)a[s]=arguments[s];return(e=t.call.apply(t,[this].concat(a))).filterRoom=function(t){var n,c=sessionStorage.getItem("tripId"),a=t.target.value;n=""==a?"".concat(k,"/").concat(c):"".concat(k,"/").concat(c,"?roomtype=").concat(a),y.a.get(n).then((function(t){e.props.roomPerType(t.data)}))},e}return Object(b.a)(n,[{key:"render",value:function(){return Object(l.jsxs)(a.a.Fragment,{children:[Object(l.jsx)("center",{children:"Room Type"}),Object(l.jsxs)("div",{onChange:this.filterRoom,children:[Object(l.jsxs)("label",{className:"radio",children:[Object(l.jsx)("input",{type:"radio",value:"",name:"room"})," All"]}),Object(l.jsxs)("label",{className:"radio",children:[Object(l.jsx)("input",{type:"radio",value:"1",name:"room"})," Deluxe Room"]}),Object(l.jsxs)("label",{className:"radio",children:[Object(l.jsx)("input",{type:"radio",value:"2",name:"room"})," Premium Room"]}),Object(l.jsxs)("label",{className:"radio",children:[Object(l.jsx)("input",{type:"radio",value:"3",name:"room"})," Travel Room"]}),Object(l.jsxs)("label",{className:"radio",children:[Object(l.jsx)("input",{type:"radio",value:"4",name:"room"})," Semi Deluxe Room"]})]})]})}}]),n}(c.Component),S="https://developerfunnel.herokuapp.com/hotellist",T=function(e){Object(m.a)(n,e);var t=Object(u.a)(n);function n(){var e;Object(h.a)(this,n);for(var c=arguments.length,a=new Array(c),s=0;s<c;s++)a[s]=arguments[s];return(e=t.call.apply(t,[this].concat(a))).filterCost=function(t){var n,c=e.props.tripId,a=t.target.value.split("-"),s=a[0],i=a[1];n=""==a?"".concat(S,"/").concat(c):"".concat(S,"/").concat(c,"?hcost=").concat(i,"&lcost=").concat(s),y.a.get(n).then((function(t){e.props.costPerType(t.data)}))},e}return Object(b.a)(n,[{key:"render",value:function(){return Object(l.jsxs)(a.a.Fragment,{children:[Object(l.jsx)("center",{children:"Cost Type"}),Object(l.jsxs)("div",{onChange:this.filterCost,children:[Object(l.jsxs)("label",{className:"radio",children:[Object(l.jsx)("input",{type:"radio",value:"",name:"room"}),"All"]}),Object(l.jsxs)("label",{className:"radio",children:[Object(l.jsx)("input",{type:"radio",value:"1000-3000",name:"room"})," 1000-3000"]}),Object(l.jsxs)("label",{className:"radio",children:[Object(l.jsx)("input",{type:"radio",value:"3001-6000",name:"room"})," 3001-6000"]}),Object(l.jsxs)("label",{className:"radio",children:[Object(l.jsx)("input",{type:"radio",value:"6001-9000",name:"room"})," 6001-9000"]}),Object(l.jsxs)("label",{className:"radio",children:[Object(l.jsx)("input",{type:"radio",value:"9001-12000",name:"room"})," 9001-12000"]})]})]})}}]),n}(c.Component),w=function(e){Object(m.a)(n,e);var t=Object(u.a)(n);function n(e){var c;return Object(h.a)(this,n),(c=t.call(this,e)).setDataPerFilter=function(e){c.setState({hotellist:e})},c.state={hotellist:""},c}return Object(b.a)(n,[{key:"render",value:function(){var e=this;return console.log(">>>in listing",this.props),Object(l.jsxs)("div",{className:"row",children:[Object(l.jsxs)("div",{className:"col-md-2",children:[Object(l.jsx)(C,{roomPerType:function(t){e.setDataPerFilter(t)}}),Object(l.jsx)(T,{costPerType:function(t){e.setDataPerFilter(t)},tripId:this.props.match.params.id})]}),Object(l.jsx)("div",{className:"col-md-10",children:Object(l.jsx)(N,{listdata:this.state.hotellist})})]})}},{key:"componentDidMount",value:function(){var e=this,t=this.props.match.params.id;sessionStorage.setItem("tripId",t),y.a.get("".concat("https://developerfunnel.herokuapp.com/hotellist","/").concat(t)).then((function(t){e.setState({hotellist:t.data})}))}}]),n}(c.Component),D=n(21),I=n.n(D),P=n(33),_=n(16),H=(n(67),function(e){Object(m.a)(n,e);var t=Object(u.a)(n);function n(){var e;return Object(h.a)(this,n),(e=t.call(this)).state={details:""},e}return Object(b.a)(n,[{key:"render",value:function(){var e=this.state.details;return Object(l.jsx)("div",{className:"container",children:Object(l.jsxs)("div",{className:"panel panel-primary",children:[Object(l.jsx)("div",{className:"panel-heading",children:Object(l.jsx)("h3",{children:this.state.details.name})}),Object(l.jsxs)("div",{className:"panel-body",children:[Object(l.jsxs)("div",{className:"row",children:[Object(l.jsx)("div",{className:"col-md-12",children:Object(l.jsx)("img",{className:"img-responsive",src:e.thumb,style:{height:400,width:1500}})}),Object(l.jsxs)("div",{className:"col-md-6",children:[Object(l.jsx)("h3",{children:e.name}),Object(l.jsx)("h3",{children:e.locality}),Object(l.jsx)("h3",{children:e.address})]})]}),Object(l.jsx)("hr",{}),Object(l.jsxs)(_.d,{children:[Object(l.jsxs)(_.b,{children:[Object(l.jsx)(_.a,{children:"Details"}),Object(l.jsx)(_.a,{children:"Contact"})]}),Object(l.jsxs)(_.c,{children:[Object(l.jsx)("h2",{children:e.name}),Object(l.jsxs)("p",{children:[e.name," is simply dummy text of the printing and typesetting industry. Lorem Ipsum has been the industry's standard dummy text ever since the 1500s, when an unknown printer took a galley of type and scrambled it to make a type specimen book. It has survived not only five centuries, but also the leap into electronic typesetting, remaining essentially unchanged. It was popularised in the 1960s with the release of Letraset sheets containing Lorem Ipsum passages, and more recently with desktop publishing software like Aldus PageMaker including versions of Lorem Ipsum."]})]}),Object(l.jsxs)(_.c,{children:[Object(l.jsx)("h3",{children:e.locality}),Object(l.jsx)("h3",{children:e.address}),Object(l.jsx)("h3",{children:"Phn: 98987678577"})]})]}),Object(l.jsx)(r.b,{to:"/",className:"btn btn-danger",children:"Back"})," \xa0",Object(l.jsx)(r.b,{to:"/booking/".concat(e.name),className:"btn btn-success",children:"Proceed"})]})]})})}},{key:"componentDidMount",value:function(){var e=Object(P.a)(I.a.mark((function e(){var t,n;return I.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=this.props.match.params.id,e.next=3,y.a.get("".concat("https://developerfunnel.herokuapp.com/hotelsdetails","/").concat(t));case 3:n=e.sent,this.setState({details:n.data[0]}),sessionStorage.setItem("cost",n.data[0].cost);case 6:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),n}(c.Component)),E=n(34),L=function(e){Object(m.a)(n,e);var t=Object(u.a)(n);function n(e){var c;return Object(h.a)(this,n),(c=t.call(this,e)).handleChange=function(e){c.setState(Object(E.a)({},e.target.name,e.target.value))},c.handleSubmit=function(){fetch("http://localhost:8900/booking/",{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify(c.state)}).then(c.props.history.push("/viewBooking"))},c.state={id:Math.floor(1e5*Math.random()),hotel_name:c.props.match.params.hotel_name,name:"",phone:"",cost:sessionStorage.getItem("cost")},c}return Object(b.a)(n,[{key:"render",value:function(){return Object(l.jsx)("div",{className:"container",children:Object(l.jsxs)("div",{className:"panel panel-primary",children:[Object(l.jsx)("div",{className:"panel-heading",children:"Place Booking"}),Object(l.jsxs)("div",{className:"panel-body",children:[Object(l.jsxs)("div",{className:"form-group",children:[Object(l.jsx)("label",{children:"Order Id"}),Object(l.jsx)("input",{name:"id",value:this.state.id,className:"form-control",readOnly:!0})]}),Object(l.jsxs)("div",{className:"form-group",children:[Object(l.jsx)("label",{children:"Hotel Name"}),Object(l.jsx)("input",{name:"hotel_name",value:this.state.hotel_name,className:"form-control",readOnly:!0})]}),Object(l.jsxs)("div",{className:"form-group",children:[Object(l.jsx)("label",{children:"Cost"}),Object(l.jsx)("input",{name:"cost",value:this.state.cost,className:"form-control",readOnly:!0})]}),Object(l.jsxs)("div",{className:"form-group",children:[Object(l.jsx)("label",{children:"Name"}),Object(l.jsx)("input",{name:"name",value:this.state.name,className:"form-control",onChange:this.handleChange})]}),Object(l.jsxs)("div",{className:"form-group",children:[Object(l.jsx)("label",{children:"Phone"}),Object(l.jsx)("input",{name:"phone",value:this.state.phone,className:"form-control",onChange:this.handleChange})]}),Object(l.jsx)("button",{className:"btn btn-success",onClick:this.handleSubmit,children:"Place Booking"})]})]})})}}]),n}(c.Component),M=function(e){return Object(l.jsxs)("div",{className:"container",children:[Object(l.jsx)("center",{children:Object(l.jsx)("h2",{children:"Booking List"})}),Object(l.jsxs)("table",{className:"table table-responsive",children:[Object(l.jsx)("thead",{children:Object(l.jsxs)("tr",{children:[Object(l.jsx)("th",{children:"Order Id"}),Object(l.jsx)("th",{children:"Hotel"}),Object(l.jsx)("th",{children:"Name"}),Object(l.jsx)("th",{children:"Phone"}),Object(l.jsx)("th",{children:"Cost"})]})}),Object(l.jsx)("tbody",{children:function(e){var t=e.bookdata;if(t)return t.map((function(e){return Object(l.jsxs)("tr",{children:[Object(l.jsx)("td",{children:e.id}),Object(l.jsx)("td",{children:e.hotel_name}),Object(l.jsx)("td",{children:e.name}),Object(l.jsx)("td",{children:e.phone}),Object(l.jsx)("td",{children:e.cost})]})}))}(e)})]})]})},R=function(e){Object(m.a)(n,e);var t=Object(u.a)(n);function n(){var e;return Object(h.a)(this,n),(e=t.call(this)).state={booking:""},e}return Object(b.a)(n,[{key:"render",value:function(){return Object(l.jsx)(M,{bookdata:this.state.booking})}},{key:"componentDidMount",value:function(){var e=this;y.a.get("http://localhost:8900/booking/").then((function(t){e.setState({booking:t.data})}))}}]),n}(c.Component),A=function(){return Object(l.jsx)("div",{children:Object(l.jsxs)(r.a,{children:[Object(l.jsx)(j,{}),Object(l.jsx)(o.a,{exact:!0,path:"/",component:f}),Object(l.jsx)(o.a,{exact:!0,path:"/list/:id",component:w}),Object(l.jsx)(o.a,{path:"/details/:id",component:H}),Object(l.jsx)(o.a,{path:"/booking/:hotel_name",component:L}),Object(l.jsx)(o.a,{path:"/viewBooking",component:R}),Object(l.jsx)(d,{})]})})};i.a.render(Object(l.jsx)(A,{}),document.getElementById("root"))}},[[68,1,2]]]);
//# sourceMappingURL=main.d56ad182.chunk.js.map